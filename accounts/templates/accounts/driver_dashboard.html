<!-- templates/accounts/driver_dashboard.html -->
{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2>Driver Dashboard</h2>

    {% if pending_bookings %}
        <h3>Pending Booking Requests</h3>
        <ul class="list-group">
            {% for booking in pending_bookings %}
                <li class="list-group-item">
                    <strong>Booking from {{ booking.user.username }}:</strong>
                    <br> <strong>Pickup:</strong> {{ booking.pickup_location }}
                    <br> <strong>Dropoff:</strong> {{ booking.dropoff_location }}
                    <br> <strong>Distance:</strong> {{ booking.distance }} km
                    <br> <strong>Estimated Cost:</strong> ${{ booking.estimated_cost }}
                    <br> <strong>Date:</strong> {{ booking.date }}
                    <div class="mt-2">
                        <form method="post" action="{% url 'bookings:accept_booking' booking.id %}" class="d-inline">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-success btn-sm">Accept</button>
                        </form>
                        <form method="post" action="{% url 'bookings:reject_booking' booking.id %}" class="d-inline">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger btn-sm">Reject</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No pending booking requests.</p>
    {% endif %}
</div>
{% endblock %}
